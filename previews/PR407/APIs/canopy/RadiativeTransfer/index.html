<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Canopy RT · ClimaLSM.jl</title><meta name="title" content="Canopy RT · ClimaLSM.jl"/><meta property="og:title" content="Canopy RT · ClimaLSM.jl"/><meta property="twitter:title" content="Canopy RT · ClimaLSM.jl"/><meta name="description" content="Documentation for ClimaLSM.jl."/><meta property="og:description" content="Documentation for ClimaLSM.jl."/><meta property="twitter:description" content="Documentation for ClimaLSM.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">ClimaLSM.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox" checked/><label class="tocitem" for="menuitem-2"><span class="docs-label">APIs</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox" checked/><label class="tocitem" for="menuitem-2-1"><span class="docs-label">ClimaLSM</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ClimaLSM/">ClimaLSM</a></li><li><a class="tocitem" href="../../Regridder/">Parameter Dataset Tools</a></li><li><a class="tocitem" href="../../shared_utilities/">Shared Utilities</a></li><li><input class="collapse-toggle" id="menuitem-2-1-4" type="checkbox"/><label class="tocitem" for="menuitem-2-1-4"><span class="docs-label">Soil</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Soil/">Soil Energy and Hydrology</a></li><li><a class="tocitem" href="../../SoilBiogeochemistry/">Soil Biogeochemistry</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-1-5" type="checkbox" checked/><label class="tocitem" for="menuitem-2-1-5"><span class="docs-label">Canopy</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Canopy/">Canopy Models</a></li><li><a class="tocitem" href="../PlantHydraulics/">Plant Hydraulics</a></li><li><a class="tocitem" href="../Photosynthesis/">Canopy Photosynthesis</a></li><li class="is-active"><a class="tocitem" href>Canopy RT</a><ul class="internal"><li><a class="tocitem" href="#Parameters"><span>Parameters</span></a></li><li><a class="tocitem" href="#Methods"><span>Methods</span></a></li></ul></li><li><a class="tocitem" href="../CanopyEnergy/">Canopy Energy</a></li><li><a class="tocitem" href="../StomatalConductance/">Canopy Stomatal Conductance</a></li><li><a class="tocitem" href="../AutotrophicRespiration/">Canopy Autotrophic Respiration</a></li></ul></li><li><a class="tocitem" href="../../SurfaceWater/">Surface Water Models</a></li><li><a class="tocitem" href="../../Bucket/">Bucket Model</a></li><li><a class="tocitem" href="../../Snow/">Snow Model</a></li></ul></li></ul></li><li><a class="tocitem" href="../../../Contributing/">Contribution guide</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">For model developers</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../generated/standalone/Usage/LSM_single_column_tutorial/">Intro to multi-component models</a></li><li><a class="tocitem" href="../../../generated/standalone/Usage/domain_tutorial/">Intro to ClimaLSM Domains</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Running simulations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-4-2-1" type="checkbox"/><label class="tocitem" for="menuitem-4-2-1"><span class="docs-label">Bucket LSM</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../generated/standalone/Bucket/bucket_tutorial/">Introduction to the Land Bucket Model</a></li><li><a class="tocitem" href="../../../generated/standalone/Bucket/coupled_bucket/">Setting up a Coupled Simulation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2-2"><span class="docs-label">Soil modeling</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../generated/standalone/Soil/richards_equation/">Richards Equation</a></li><li><a class="tocitem" href="../../../generated/standalone/Soil/soil_energy_hydrology/">Energy and Hydrology</a></li><li><a class="tocitem" href="../../../generated/standalone/Soil/freezing_front/">Phase Changes</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2-3" type="checkbox"/><label class="tocitem" for="menuitem-4-2-3"><span class="docs-label">Canopy modeling</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../generated/standalone/Canopy/canopy_tutorial/">Standalone Canopy</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2-4" type="checkbox"/><label class="tocitem" for="menuitem-4-2-4"><span class="docs-label">Integrated soil+canopy modeling</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../generated/integrated/soil_canopy_tutorial/">Coupled Canopy and Soil</a></li></ul></li></ul></li></ul></li><li><a class="tocitem" href="../../../folderstructure/">Repository structure</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">APIs</a></li><li><a class="is-disabled">ClimaLSM</a></li><li><a class="is-disabled">Canopy</a></li><li class="is-active"><a href>Canopy RT</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Canopy RT</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/CliMA/ClimaLSM.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/CliMA/ClimaLSM.jl/blob/main/docs/src/APIs/canopy/RadiativeTransfer.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Radiative-Transfer"><a class="docs-heading-anchor" href="#Radiative-Transfer">Radiative Transfer</a><a id="Radiative-Transfer-1"></a><a class="docs-heading-anchor-permalink" href="#Radiative-Transfer" title="Permalink"></a></h1><h2 id="Parameters"><a class="docs-heading-anchor" href="#Parameters">Parameters</a><a id="Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ClimaLSM.Canopy.BeerLambertParameters" href="#ClimaLSM.Canopy.BeerLambertParameters"><code>ClimaLSM.Canopy.BeerLambertParameters</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BeerLambertParameters{FT &lt;: AbstractFloat}</code></pre><p>The required parameters for the Beer-Lambert radiative transfer model.</p><ul><li><p><code>ld</code>: Leaf angle distribution function (unitless)</p></li><li><p><code>α_PAR_leaf</code>: PAR leaf reflectance (unitless)</p></li><li><p><code>α_NIR_leaf</code>: NIR leaf reflectance</p></li><li><p><code>ϵ_canopy</code>: Emissivity of the canopy</p></li><li><p><code>Ω</code>: Clumping index following Braghiere (2021) (unitless)</p></li><li><p><code>λ_γ_PAR</code>: Typical wavelength per PAR photon (m)</p></li><li><p><code>λ_γ_NIR</code>: Typical wavelength per NIR photon (m)</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaLSM.jl/blob/91f25be2f80d91984b32cbae1f7655a905de57e3/src/standalone/Vegetation/radiation.jl#L11-L16">source</a></section></article><h2 id="Methods"><a class="docs-heading-anchor" href="#Methods">Methods</a><a id="Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Methods" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ClimaLSM.Canopy.compute_absorbances" href="#ClimaLSM.Canopy.compute_absorbances"><code>ClimaLSM.Canopy.compute_absorbances</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">compute_absorbances(
    RT::BeerLambertModel{FT},
    PAR,
    NIR,
    LAI,
    K,
    α_soil_PAR,
    α_soil_NIR,
    _,
    _,
)</code></pre><p>Computes the PAR and NIR absorbances, reflectances, and tranmittances for a canopy in the case of the  Beer-Lambert model. The absorbances are a function of the radiative transfer  model, as well as the magnitude of incident PAR and NIR radiation in moles of  photons, the leaf area index, the extinction coefficient, and the soil albedo in the PAR and NIR bands. Returns a NamedTuple of NamedTuple, of the form: (; par = (; refl = , trans = , abs = ),  nir = (; refl = , trans = , abs = ))</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaLSM.jl/blob/91f25be2f80d91984b32cbae1f7655a905de57e3/src/standalone/Vegetation/canopy_parameterizations.jl#L28-L49">source</a></section><section><div><pre><code class="language-julia hljs">compute_absorbances(
    RT::TwoStreamModel{FT},
    PAR,
    NIR,
    LAI,
    K,
    α_soil_PAR,
    α_soil_NIR,
    θs,
    frac_diff,
)</code></pre><p>Computes the PAR and NIR absorbances, reflectances, and tranmittances for a canopy in the case of the  Beer-Lambert model. The absorbances are a function of the radiative transfer  model, as well as the magnitude of incident PAR and NIR radiation in moles of  photons, the leaf area index, the extinction coefficient, and the soil albedo in the PAR and NIR bands. </p><p>This model also depends on the diffuse fraction and the zenith angle. Returns a NamedTuple of NamedTuple, of the form: (; par = (; refl = , trans = , abs = ),  nir = (; refl = , trans = , abs = ))</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaLSM.jl/blob/91f25be2f80d91984b32cbae1f7655a905de57e3/src/standalone/Vegetation/canopy_parameterizations.jl#L68-L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ClimaLSM.Canopy.plant_absorbed_pfd" href="#ClimaLSM.Canopy.plant_absorbed_pfd"><code>ClimaLSM.Canopy.plant_absorbed_pfd</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">plant_absorbed_pfd(
    RT::BeerLambertModel{FT},
    SW_IN:FT,
    α_leaf::FT,
    LAI::FT,
    K::FT,
    α_soil::FT
)</code></pre><p>Computes the absorbed, reflected, and transmitted photon flux density  in terms of mol photons per m^2 per  second for a radiation band.</p><p>This applies the Beer-Lambert law, which is a function of incident  radiation (<code>SW_IN</code>; moles of photons/m^2/), leaf reflectance (<code>α_leaf</code>), the extinction coefficient (<code>K</code>), leaf area index (<code>LAI</code>), and the albedo of the soil (<code>α_soil</code>). </p><p>Returns a tuple of reflected, absorbed, and transmitted radiation in mol photons/m^2/s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaLSM.jl/blob/91f25be2f80d91984b32cbae1f7655a905de57e3/src/standalone/Vegetation/canopy_parameterizations.jl#L130-L151">source</a></section><section><div><pre><code class="language-julia hljs">plant_absorbed_pfd(
    RT::TwoStreamModel{FT},
    α_leaf,
    SW_IN::FT,
    LAI::FT,
    K::FT,
    τ_leaf,
    θs::FT,
    α_soil::FT,
)</code></pre><p>Computes the absorbed, transmitted, and reflected  photon flux density  in terms of mol photons  per m^2 per second for a radiation band. </p><p>This applies the two-stream radiative transfer solution which takes into account the impacts of scattering within the canopy. The function takes in all  parameters from the parameter struct of a TwoStreamModel, along with the  incident radiation, LAI, extinction coefficient K, soil albedo from the  canopy soil_driver, solar zenith angle, and τ.</p><p>Returns a tuple of reflected, absorbed, and transmitted radiation in mol photons/m^2/s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaLSM.jl/blob/91f25be2f80d91984b32cbae1f7655a905de57e3/src/standalone/Vegetation/canopy_parameterizations.jl#L167-L190">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ClimaLSM.Canopy.extinction_coeff" href="#ClimaLSM.Canopy.extinction_coeff"><code>ClimaLSM.Canopy.extinction_coeff</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">extinction_coeff(ld::FT,
                 θs::FT) where {FT}</code></pre><p>Computes the vegetation extinction coefficient (<code>K</code>), as a function of the sun zenith angle (<code>θs</code>), and the leaf angle distribution (<code>ld</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaLSM.jl/blob/91f25be2f80d91984b32cbae1f7655a905de57e3/src/standalone/Vegetation/canopy_parameterizations.jl#L395-L401">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>ClimaLSM.Canopy.extinction_coeff</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ClimaLSM.Canopy.canopy_radiant_energy_fluxes!" href="#ClimaLSM.Canopy.canopy_radiant_energy_fluxes!"><code>ClimaLSM.Canopy.canopy_radiant_energy_fluxes!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Canopy.canopy_radiant_energy_fluxes!(p::NamedTuple,
                                     s::PrognosticSoil{FT},
                                     canopy,
                                     radiation::PrescribedRadiativeFluxes,
                                     earth_param_set::PSE,
                                     Y::ClimaCore.Fields.FieldVector,
                                     t,
                                    ) where {FT, PSE}</code></pre><p>In standalone mode, this function computes and stores the net long and short wave radition, in W/m^2, absorbed by the canopy.</p><p>In integrated mode, we have already computed those quantities in <code>lsm_radiant_energy_fluxes!</code>, so this method does nothing additional.</p><p>LW and SW net radiation are stored in <code>p.canopy.radiative_transfer.LW_n</code> and <code>p.canopy.radiative_transfer.SW_n</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaLSM.jl/blob/91f25be2f80d91984b32cbae1f7655a905de57e3/src/integrated/soil_canopy_model.jl#L575-L594">source</a></section><section><div><pre><code class="language-julia hljs">canopy_radiant_energy_fluxes!(p::NamedTuple,
                              s::PrescribedSoil{FT},
                              canopy,
                              radiation::PrescribedRadiativeFluxes,
                              earth_param_set::PSE,
                              Y::ClimaCore.Fields.FieldVector,
                              t,
                             ) where {FT, PSE}</code></pre><p>Computes and stores the net long and short wave radition, in W/m^2, absorbed by the canopy when the canopy is run in standalone mode, with a PrescribedSoil conditions.</p><p>LW and SW net radiation are stored in <code>p.canopy.radiative_transfer.LW_n</code> and <code>p.canopy.radiative_transfer.SW_n</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/ClimaLSM.jl/blob/91f25be2f80d91984b32cbae1f7655a905de57e3/src/standalone/Vegetation/radiation.jl#L209-L226">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Photosynthesis/">« Canopy Photosynthesis</a><a class="docs-footer-nextpage" href="../CanopyEnergy/">Canopy Energy »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Monday 27 November 2023 03:32">Monday 27 November 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
